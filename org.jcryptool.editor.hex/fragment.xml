<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<fragment>
	<extension
         point="org.eclipse.help.contexts">
      <contexts
            file="$nl$/contexts.xml">
      </contexts>
	</extension>
	<extension point="org.eclipse.ui.editors">
		<editor
			name="%editor.name"
			icon="icons/hex.png"
			default="true"
			extensions="*"
			contributorClass="net.sourceforge.ehep.actions.HexEditorContributor"
			class="net.sourceforge.ehep.editors.HexEditor"
			id="org.jcryptool.editors.hex.HexEditor">
		</editor>
	</extension>
	 <extension
       point="org.jcryptool.core.operations.editorServices">
	    <service
	          category="5"
	          class="org.jcryptool.editor.hex.service.HexEditorService"
	          icon="icons/hex.png"
	          id="org.jcryptool.editor.hex"
	          label="%samplefile.label"
	          pushAction="org.jcryptool.editor.hex.actions.NewFileAction">
	    </service>
	    <service
	          category="4"
	          class="org.jcryptool.editor.hex.service.HexEditorService"
	          icon="icons/hex.png"
	          id="org.jcryptool.editor.hex"
	          label="%emptyfile.label"
	          pushAction="org.jcryptool.editor.hex.actions.NewEmptyFileAction">
	    </service>
 	</extension>
	<extension
       point="org.eclipse.ui.editorActions">
    <editorContribution
          id="org.jcryptool.editor.hex.editorContribution"
          targetID="org.jcryptool.editors.hex.HexEditor">
       <action
             class="org.jcryptool.editor.hex.actions.OpenInTextEditorAction"
             id="org.jcryptool.editor.hex.action.openInText"
             label="%action.label.1"
             menubarPath="edit/showin/start"
             style="push">
       </action>
    </editorContribution>
   </extension>
   <extension
       point="org.eclipse.ui.handlers">
    <handler
          class="org.jcryptool.editor.hex.commands.OpenEditorHandler"
          commandId="org.jcryptool.editor.hex.openFile"
          helpContextId="org.jcryptool.core.help.javahexEditor"><!--TODO-->
       <activeWhen>
          <with
                variable="selection">
             <iterate
                   ifEmpty="false"
                   operator="or">
                <instanceof
                      value="org.eclipse.core.filesystem.IFileStore">
                </instanceof>
             </iterate>
          </with>
       </activeWhen>
       <enabledWhen>
          <with
                variable="selection">
             <count
                   value="1">
             </count>
          </with>
       </enabledWhen>
    </handler>
 </extension>
 <extension
       point="org.eclipse.ui.menus">
    <menuContribution
          locationURI="popup:org.jcryptool.fileexplorer.popup.open">
       <command
             commandId="org.jcryptool.editor.hex.openFile"
             helpContextId="org.jcryptool.core.help.javahexEditor"
             icon="icons/hex.png"
             label="%open.command.label"
             style="push"
             tooltip="%open.command.tooltip">
       </command>
    </menuContribution>
    <menuContribution
          allPopups="false"
          locationURI="menu:newfile?after=hexsample">
       <command
             commandId="org.jcryptool.editor.hex.emptyfileCommand"
             icon="icons/hex.png"
             id="hexempty"
             label="%emptyfile.label"
             style="push">
       </command>
    </menuContribution>
    <menuContribution
          allPopups="false"
          locationURI="menu:newfile">
       <command
             commandId="org.jcryptool.editor.hex.templatefileCommand"
             icon="icons/hex.png"
             id="hexsample"
             label="%samplefile.label"
             style="push">
       </command>
    </menuContribution>
 </extension>
 <extension
       point="org.eclipse.ui.commands">
   
    <command
          defaultHandler="org.jcryptool.editor.hex.actions.NewEmptyFile"
          id="org.jcryptool.editor.hex.emptyfileCommand"
          name="%emptyfile.label">
    </command>
    <command
          description="%open.command.description"
          helpContextId="org.jcryptool.core.help.javahexEditor"
          id="org.jcryptool.editor.hex.openFile"
          name="%open.command.name">
    </command>
    <command
          defaultHandler="org.jcryptool.editor.hex.actions.NewFile"
          id="org.jcryptool.editor.hex.templatefileCommand"
          name="%samplefile.label">
    </command>
 </extension>
</fragment>
